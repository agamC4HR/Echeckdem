@model Echeckdem.ViewModel.ProjectBocw.BOCWNcactionEdit
<style>
    .NCACTION_Details {
        width: 50%;
        background: white;
        border: 2px solid red;
        border-radius: .375rem;
        padding: 15px;
        margin-top: 45px;
        margin-left: 7px;
    }
</style>
<form asp-action="UpdateBONcaction" asp-controller="DetailsView" method="post" enctype="multipart/form-data">
    <fieldset class="NCACTION_Details">
        <div class="heading">Task Details</div>
        <input type="hidden" asp-for="TransactionId" />
        <input type="hidden" asp-for="Acid" />
        <input type="hidden" asp-for="Oid" />
        <div class="form-row-2col">
            <div class="form-group" style="grid-column: 1 / -1; width: 100%;">
                <label>Detail of Issue</label>
                @Html.TextAreaFor(m => m.Acdetail, new { @class = "form-control" })
            </div>
        </div>
        <div class="form-row-2col">
            <div class="form-group">
                <label>Start Date of Issue</label>
                <input class="form-control" value="@Model?.Acidate.ToString("yyyy-MM-dd")" readonly />
            </div>


        </div>

        <div class="form-row-2col">
            <div class="form-group" style="grid-column: 1 / -1; width: 100%;">
                <label>Remarks</label>
                @Html.TextAreaFor(m => m.Acremarks, new { @class = "form-control" })
            </div>
        </div>

        <div class="form-row-2col">
            <div class="form-group" style="grid-column: 1 / -1; width: 100%;">
                <label>Upload File</label>
                <input type="file" name="UploadedFile" class="form-control" accept=".pdf,.jpg,.jpeg" />
            </div>
        </div>

        @if (Model.ExistingFileName != null)
        {
            <div class="form-row">
                <div class="form-field" style="flex: 1 1 100%;">
                    <label>Currently Uploaded File:</label>
                    @foreach (var k in Model.ExistingFileName)
                    {
                        

                        <br />
                        <a href="@Url.Action(k, "DetailsView", new { tp = "Act", nm = k, oid =Model.Oid })"
                           target="_blank"
                           class="view-pdf-link" style="color:black">
                            Open File
                        </a>
                    }

                </div>
            </div>
        }

        @if(Context.Session.GetInt32("User Level") <= 2)
                        {
        <button type="submit" name="submitType" value="SaveNCACTION" class="saveButton">Save Details</button>
                        }
    </fieldset>
</form>
